---
title: "DATA 607 Project 4"
author: "Jun Pan"
date: "November 2, 2018"
output: html_document
---

```
PROJECT 4: Document Classification
It can be useful to be able to classify new "test" documents using already classified "training" documents.  A common example is using a corpus of labeled spam and ham (non-spam) e-mails to predict whether or not a new document is spam.  

For this project, you can start with a spam/ham dataset, then predict the class of new documents (either withheld from the training dataset or from another source such as your own spam folder). 
```

In this project, two sets of data were downloaded.  One waas called as "spam"", the other was called as "ham".  

Set working enviornment:
```{r}
library(tm)
library(tidytext)
library(RTextTools)
library(tidyverse)
library(kableExtra)
library(wordcloud)
library(tidyr)
library(caret)
library(ggplot2)
library(dplyr)
```
#GET DATA
```{r}
spam_path <- "/Users/admin/Desktop/DATA607/project4/spam/"
ham_path <- "/Users/admin/Desktop/DATA607/project4/easy_ham/"

spam_filelist <- list.files(spam_path)
spam.raw <- data.frame(x='',y='')
ham_filelist <- list.files(ham_path)
ham.raw <- data.frame(x='',y='')
length(ham_filelist)
length(spam_filelist)

for (i in 1:100){
    spam_path <- paste(spam_path,spam_filelist[i],sep="")
    spam <- read_lines(spam_path,skip=0,n_max = -1L)
    test<-as.data.frame(merge(filelist[i],spam))
    spam.raw <- rbind.data.frame(spam.raw,test)
    spam_path <- "/Users/admin/Desktop/DATA607/project4/spam/"
    
    ham_path <- paste(ham_path,ham_filelist[i],sep="")
    ham <- read_lines(ham_path,skip=0,n_max = -1L)
    test<-as.data.frame(merge(filelist[i],ham))
    ham.raw <- rbind.data.frame(ham.raw,test)
    ham_path <- "/Users/admin/Desktop/DATA607/project4/easy_ham/"
}

spam_df <- as.data.frame(spam.raw %>% unnest_tokens(word,y))
ham_df <- ham.raw %>% unnest_tokens(word,y)

names(spam_df)[1] <- 'doc'
names(ham_df)[1] <- 'doc'
            

```
